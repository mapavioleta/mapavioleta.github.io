<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa da Viol√™ncia contra Pessoas Trans - 2025 üè≥Ô∏è‚Äç‚ößÔ∏è</title>
    
    <link rel="icon" href="favicon.ico" sizes="any"> 
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <meta name="theme-color" content="#9b59b6">
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="manifest" href="manifest.json">
    
    <style>
    :root {
        --mapa-violeta-cor-destaque: #9b59b6;
        --mapa-violeta-cor-destaque-hover: #8e44ad;
        --mapa-violeta-fundo-form: rgba(34, 28, 53, 0.95);
        --mapa-violeta-borda-form: rgba(155, 89, 182, 0.5);
        --mapa-violeta-cor-texto-form: #e0d0ff;
        --mapa-violeta-fundo-pagina: #0a0a14;
        --color-white: #FFFFFF;
        --font-principal: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        --color-danger: #e74c3c;
        --color-warning: #f39c12;
        --color-info: #3498db;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; } 
    body {
        font-family: var(--font-principal);
        background-color: var(--mapa-violeta-fundo-pagina);
        color: var(--color-white); 
        display: flex;
        flex-direction: column;
        line-height: 1.6;
        overflow: hidden; 
    }

    .app-main-container { flex: 1; display: flex; flex-direction: column; }
    .main-content-area { flex: 1; background-color: var(--mapa-violeta-fundo-pagina); padding: 0; }
    .mapa-violeta-main-area { flex-grow: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; }
    
    .mapa-violeta-header-secao { 
        text-align: center; 
        margin-bottom: 20px; 
        background: linear-gradient(135deg, #9b59b6, #8e44ad);
        padding: 25px;
        border-radius: 15px;
        color: white;
        box-shadow: 0 8px 25px rgba(155, 89, 182, 0.3);
    }
    .mapa-violeta-header-secao h1 { 
        font-size: 2.2em; 
        margin-bottom: 15px; 
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5); 
    }
    .mapa-violeta-header-secao h1 i { margin-right: 15px; }
    .mapa-violeta-header-secao p.subtitulo-mapa { 
        font-size: 1.1em; 
        max-width: 800px; 
        margin: 0 auto 10px; 
        opacity: 0.95;
    }

    .info-painel {
        background: var(--mapa-violeta-fundo-form);
        padding: 20px;
        border-radius: 12px;
        margin-bottom: 25px;
        border-left: 6px solid var(--color-danger);
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    .info-painel h3 {
        color: var(--color-danger);
        margin-bottom: 12px;
        font-size: 1.3em;
    }

    .info-painel p {
        line-height: 1.6;
        color: var(--mapa-violeta-cor-texto-form);
    }

    .estatisticas {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 20px;
        margin-bottom: 25px;
    }

    .estatistica-item {
        background: var(--mapa-violeta-fundo-form);
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        border: 2px solid var(--mapa-violeta-borda-form);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .estatistica-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    }

    .estatistica-numero {
        font-size: 2.5em;
        font-weight: bold;
        color: var(--mapa-violeta-cor-destaque);
        display: block;
        margin-bottom: 8px;
        text-shadow: 0 2px 4px rgba(155, 89, 182, 0.3);
    }

    .estatistica-label {
        font-size: 0.95em;
        color: var(--mapa-violeta-cor-texto-form);
        font-weight: 500;
    }

    #map {
        height: 65vh;
        min-height: 500px;
        width: 100%;
        border-radius: 12px;
        border: 3px solid var(--mapa-violeta-borda-form);
        box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        margin-bottom: 25px;
        background-color: #2c3e50;
    }

    .leaflet-popup-content-wrapper {
        background: #ffffff;
        color: #333333;
        border-radius: 10px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        border: 2px solid #ddd;
    }

    .leaflet-popup-tip {
        background: #ffffff;
    }

    .popup-marker-details {
        max-height: 350px;
        overflow-y: auto;
        padding: 5px;
    }

    .popup-marker-details h4 {
        color: var(--mapa-violeta-cor-destaque);
        margin-top: 0;
        margin-bottom: 12px;
        font-size: 1.2em;
        border-bottom: 3px solid var(--mapa-violeta-cor-destaque);
        padding-bottom: 8px;
        text-align: center;
    }

    .popup-marker-details p {
        margin-bottom: 8px;
        font-size: 0.92em;
        line-height: 1.5;
        color: #555555;
    }

    .popup-marker-details strong {
        color: #111111;
        font-weight: 600;
    }

    .popup-marker-details .fonte {
        font-size: 0.8em;
        color: #777;
        margin-top: 12px;
        padding-top: 10px;
        border-top: 2px solid #eee;
        font-style: italic;
    }

    .legenda {
        background: var(--mapa-violeta-fundo-form);
        padding: 20px;
        border-radius: 12px;
        margin-top: 20px;
        border: 2px solid var(--mapa-violeta-borda-form);
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    .legenda h4 {
        color: var(--mapa-violeta-cor-destaque);
        margin-bottom: 15px;
        font-size: 1.2em;
        text-align: center;
    }

    .legenda-item {
        display: flex;
        align-items: center;
        margin-bottom: 12px;
        font-size: 0.95em;
        padding: 8px 12px;
        border-radius: 6px;
        background: rgba(255,255,255,0.05);
        transition: background 0.3s ease;
    }

    .legenda-item:hover {
        background: rgba(255,255,255,0.1);
    }

    .legenda-cor {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        margin-right: 15px;
        border: 3px solid white;
        box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }

    .filtros-container {
        background: var(--mapa-violeta-fundo-form);
        padding: 20px;
        border-radius: 12px;
        margin-bottom: 20px;
        border: 2px solid var(--mapa-violeta-borda-form);
    }

    .filtros-container h4 {
        color: var(--mapa-violeta-cor-destaque);
        margin-bottom: 15px;
        text-align: center;
    }

    .filtros-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 15px;
    }

    .filtro-grupo {
        display: flex;
        flex-direction: column;
    }

    .filtro-grupo label {
        color: var(--mapa-violeta-cor-texto-form);
        margin-bottom: 8px;
        font-weight: 500;
    }

    .filtro-grupo select {
        padding: 10px;
        border-radius: 6px;
        border: 1px solid var(--mapa-violeta-borda-form);
        background: rgba(0,0,0,0.5);
        color: var(--color-white);
        font-size: 0.95em;
    }

    .btn {
        padding: 12px 24px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        font-size: 0.95em;
        font-weight: 600;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }

    .btn--primary {
        background: linear-gradient(135deg, var(--mapa-violeta-cor-destaque), var(--mapa-violeta-cor-destaque-hover));
        color: white;
    }

    .btn--primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(155, 89, 182, 0.4);
    }

    .btn--secondary {
        background: #6c757d;
        color: white;
    }

    .btn--secondary:hover {
        background: #5a6268;
        transform: translateY(-2px);
    }

    .filtro-acoes {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin-top: 15px;
    }

    @media (max-width: 768px) {
        .mapa-violeta-main-area { padding: 15px; }
        .mapa-violeta-header-secao { padding: 20px; }
        .mapa-violeta-header-secao h1 { font-size: 1.8em; }
        #map { height: 55vh; min-height: 400px; }
        .estatisticas { grid-template-columns: 1fr; gap: 15px; }
        .filtros-grid { grid-template-columns: 1fr; }
        .filtro-acoes { flex-direction: column; }
    }

    @media (max-width: 480px) {
        .mapa-violeta-main-area { padding: 10px; }
        .mapa-violeta-header-secao h1 { font-size: 1.5em; }
        .mapa-violeta-header-secao { padding: 15px; }
        .estatistica-numero { font-size: 2em; }
    }

    /* Anima√ß√µes */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .estatistica-item, .info-painel, .legenda {
        animation: fadeIn 0.6s ease-out;
    }

    .mapa-violeta-header-secao {
        animation: fadeIn 0.8s ease-out;
    }
    </style>
</head>
<body class="pagina-mapa-violeta">
    <div class="app-main-container">
        <main class="main-content-area">
            <section class="mapa-violeta-main-area">
                <div class="mapa-violeta-header-secao">
                    <h1><i class="fas fa-map-marked-alt"></i> Mapa da Viol√™ncia contra Pessoas Trans - 2025</h1>
                    <p class="subtitulo-mapa">Casos noticiados de viol√™ncia letal contra pessoas trans e travestis no Brasil<br>
                    <span style="font-size:0.95em; opacity:0.9;">
                        Dados compilados a partir de reportagens jornal√≠sticas - Atualizado em Novembro/2025
                    </span></p>
                </div>

                <div class="info-painel">
                    <h3><i class="fas fa-exclamation-triangle"></i> Importante - Subnotifica√ß√£o</h3>
                    <p>Estes casos representam apenas os <strong>noticiados pela imprensa em 2025</strong>. H√° significativa subnotifica√ß√£o. 
                    Segundo o <strong>Dossi√™ ANTRA 2024</strong>, foram registradas 122 mortes no ano anterior, indicando que muitos casos 
                    n√£o chegam √† m√≠dia. Este mapa visa dar visibilidade √† viol√™ncia transf√≥bica estrutural.</p>
                </div>

                <div class="estatisticas">
                    <div class="estatistica-item">
                        <span class="estatistica-numero">6</span>
                        <span class="estatistica-label">Casos Confirmados 2025</span>
                    </div>
                    <div class="estatistica-item">
                        <span class="estatistica-numero">5</span>
                        <span class="estatistica-label">Estados com Ocorr√™ncias</span>
                    </div>
                    <div class="estatistica-item">
                        <span class="estatistica-numero">122</span>
                        <span class="estatistica-label">Mortes em 2024 (ANTRA)</span>
                    </div>
                    <div class="estatistica-item">
                        <span class="estatistica-numero">96%</span>
                        <span class="estatistica-label">V√≠timas s√£o Mulheres Trans</span>
                    </div>
                </div>

                <div class="filtros-container">
                    <h4><i class="fas fa-filter"></i> Filtrar Casos</h4>
                    <div class="filtros-grid">
                        <div class="filtro-grupo">
                            <label for="filtro-tipo">Tipo de Caso:</label>
                            <select id="filtro-tipo">
                                <option value="todos">Todos os Tipos</option>
                                <option value="homicidio">Homic√≠dio Confirmado</option>
                                <option value="agressao">Morte ap√≥s Agress√£o</option>
                                <option value="investigacao">Em Investiga√ß√£o</option>
                            </select>
                        </div>
                        <div class="filtro-grupo">
                            <label for="filtro-estado">Estado:</label>
                            <select id="filtro-estado">
                                <option value="todos">Todos os Estados</option>
                                <option value="RJ">Rio de Janeiro</option>
                                <option value="MG">Minas Gerais</option>
                                <option value="GO">Goi√°s</option>
                                <option value="PE">Pernambuco</option>
                                <option value="SP">S√£o Paulo</option>
                            </select>
                        </div>
                    </div>
                    <div class="filtro-acoes">
                        <button class="btn btn--primary" id="btn-aplicar-filtros">
                            <i class="fas fa-search"></i> Aplicar Filtros
                        </button>
                        <button class="btn btn--secondary" id="btn-limpar-filtros">
                            <i class="fas fa-times-circle"></i> Limpar Filtros
                        </button>
                    </div>
                </div>
                
                <div id="map"></div>

                <div class="legenda">
                    <h4><i class="fas fa-key"></i> Legenda dos Marcadores</h4>
                    <div class="legenda-item">
                        <div class="legenda-cor" style="background-color: var(--color-danger);"></div>
                        <span><strong>Homic√≠dio Confirmado</strong> - Caso com confirma√ß√£o policial</span>
                    </div>
                    <div class="legenda-item">
                        <div class="legenda-cor" style="background-color: var(--color-warning);"></div>
                        <span><strong>Morte ap√≥s Agress√£o</strong> - Falecimento decorrente de viol√™ncia</span>
                    </div>
                    <div class="legenda-item">
                        <div class="legenda-cor" style="background-color: var(--color-info);"></div>
                        <span><strong>Caso em Investiga√ß√£o</strong> - Aguardando conclus√£o das autoridades</span>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // Dados dos casos de viol√™ncia contra pessoas trans - 2025
        const casosTrans2025 = [
            {
                id: 1,
                nome: "Danielly (Danny) Rocha",
                cidade: "Rio de Janeiro",
                estado: "RJ",
                data: "2025-05-03",
                tipo: "homicidio",
                descricao: "Ativista e cozinheira encontrada morta em sua resid√™ncia na Lapa. Caso investigado pela Pol√≠cia Civil. Danny era conhecida por seu ativismo na comunidade LGBTQIAP+ e trabalhava como cozinheira.",
                coordenadas: [-22.9068, -43.1729],
                fonte: "O Dia / CNN / Ag√™ncia Brasil",
                cor: "#e74c3c",
                icone: "üö®",
                idade: "32 anos"
            },
            {
                id: 2,
                nome: "Christina Maciel Oliveira",
                cidade: "Belo Horizonte",
                estado: "MG", 
                data: "2025-10-20",
                tipo: "homicidio",
                descricao: "Espancada at√© a morte em via p√∫blica. Agressor (ex-companheiro) preso em flagrante. Caso chocou a comunidade local e mobilizou movimentos sociais.",
                coordenadas: [-19.9167, -43.9345],
                fonte: "CNN Brasil, TJMG, MDHC",
                cor: "#e74c3c",
                icone: "üö®",
                idade: "28 anos"
            },
            {
                id: 3,
                nome: "Alice Martins Alves", 
                cidade: "Belo Horizonte",
                estado: "MG",
                data: "2025-11-09",
                tipo: "agressao",
                descricao: "Espancada na Savassi em 23/10/2025, internada e faleceu por complica√ß√µes. Investiga√ß√£o em curso. Alice era estudante universit√°ria.",
                coordenadas: [-19.9200, -43.9376],
                fonte: "CNN Brasil",
                cor: "#f39c12",
                icone: "‚ö†Ô∏è",
                idade: "24 anos"
            },
            {
                id: 4,
                nome: "V√≠tima em Rio Verde",
                cidade: "Rio Verde",
                estado: "GO",
                data: "2025-10-15",
                tipo: "homicidio",
                descricao: "Mulher trans perseguida e morta. Caso violento que envolveu tortura e levou √† pris√£o de suspeitos. A v√≠tima n√£o foi identificada pela fam√≠lia.",
                coordenadas: [-17.7450, -50.9313],
                fonte: "Metr√≥poles",
                cor: "#e74c3c", 
                icone: "üö®",
                idade: "N√£o informada"
            },
            {
                id: 5,
                nome: "V√≠tima em Belo Jardim",
                cidade: "Belo Jardim",
                estado: "PE",
                data: "2025-10-02", 
                tipo: "homicidio",
                descricao: "Mulher trans assassinada a tiros. Investiga√ß√£o em curso. Caso ocorreu em via p√∫blica e mobilizou a comunidade local.",
                coordenadas: [-8.3356, -36.4242],
                fonte: "Diario de Pernambuco",
                cor: "#e74c3c",
                icone: "üö®",
                idade: "N√£o informada"
            },
            {
                id: 6,
                nome: "Casos em S√£o Paulo",
                cidade: "S√£o Paulo",
                estado: "SP",
                data: "2025-04-15",
                tipo: "investigacao",
                descricao: "Agress√µes no centro de SP e casos de transfobia registrados em 2025. Inclui relatos de viol√™ncia f√≠sica e psicol√≥gica contra pessoas trans.",
                coordenadas: [-23.5505, -46.6333],
                fonte: "CNN Brasil",
                cor: "#3498db",
                icone: "üîç",
                idade: "V√°rias v√≠timas"
            }
        ];

        // Elementos DOM
        const mapElement = document.getElementById('map');
        const filtroTipo = document.getElementById('filtro-tipo');
        const filtroEstado = document.getElementById('filtro-estado');
        const btnAplicarFiltros = document.getElementById('btn-aplicar-filtros');
        const btnLimparFiltros = document.getElementById('btn-limpar-filtros');

        // Vari√°veis de estado
        let map;
        let markersLayer = L.layerGroup();
        let filtrosAtivos = {
            tipo: 'todos',
            estado: 'todos'
        };

        // Inicializar mapa
        function initMap() {
            map = L.map('map').setView([-15, -55], 4);
            
            // Adicionar tile layer
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors',
                maxZoom: 18
            }).addTo(map);

            // Adicionar layer group
            markersLayer.addTo(map);

            // Carregar todos os casos inicialmente
            carregarCasos(casosTrans2025);
        }

        // Carregar casos no mapa
        function carregarCasos(casos) {
            // Limpar marcadores anteriores
            markersLayer.clearLayers();

            casos.forEach(caso => {
                // Criar √≠cone customizado
                const customIcon = L.divIcon({
                    html: `<div style="
                        background-color: ${caso.cor}; 
                        width: 35px; 
                        height: 35px; 
                        border-radius: 50%; 
                        border: 3px solid white;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 16px;
                        color: white;
                        box-shadow: 0 3px 8px rgba(0,0,0,0.5);
                        cursor: pointer;
                    ">${caso.icone}</div>`,
                    className: 'custom-trans-icon',
                    iconSize: [35, 35],
                    iconAnchor: [17, 17]
                });

                // Criar popup content
                const popupContent = `
                    <div class="popup-marker-details">
                        <h4>${caso.icone} ${caso.nome}</h4>
                        <p><strong>Cidade:</strong> ${caso.cidade} - ${caso.estado}</p>
                        <p><strong>Data:</strong> ${new Date(caso.data).toLocaleDateString('pt-BR')}</p>
                        <p><strong>Idade:</strong> ${caso.idade}</p>
                        <p><strong>Tipo:</strong> ${getTipoExtenso(caso.tipo)}</p>
                        <p><strong>Descri√ß√£o:</strong> ${caso.descricao}</p>
                        <div class="fonte">
                            <strong>Fonte:</strong> ${caso.fonte}
                        </div>
                    </div>
                `;

                // Adicionar marcador ao mapa
                const marker = L.marker(caso.coordenadas, { icon: customIcon })
                    .bindPopup(popupContent)
                    .addTo(markersLayer);
            });

            // Ajustar view do mapa para mostrar todos os marcadores
            if (casos.length > 0) {
                const group = new L.featureGroup(casos.map(caso => L.marker(caso.coordenadas)));
                map.fitBounds(group.getBounds().pad(0.1));
            }
        }

        // Filtrar casos
        function filtrarCasos() {
            const casosFiltrados = casosTrans2025.filter(caso => {
                const passaTipo = filtrosAtivos.tipo === 'todos' || caso.tipo === filtrosAtivos.tipo;
                const passaEstado = filtrosAtivos.estado === 'todos' || caso.estado === filtrosAtivos.estado;
                
                return passaTipo && passaEstado;
            });

            carregarCasos(casosFiltrados);
            
            // Atualizar estat√≠stica
            atualizarEstatistica(casosFiltrados.length);
        }

        // Atualizar estat√≠stica
        function atualizarEstatistica(total) {
            const estatisticaElement = document.querySelector('.estatistica-item:first-child .estatistica-numero');
            if (estatisticaElement) {
                estatisticaElement.textContent = total;
            }
        }

        // Helper function para tipo extenso
        function getTipoExtenso(tipo) {
            const tipos = {
                'homicidio': 'Homic√≠dio Confirmado',
                'agressao': 'Morte ap√≥s Agress√£o',
                'investigacao': 'Caso em Investiga√ß√£o'
            };
            return tipos[tipo] || tipo;
        }

        // Event Listeners
        btnAplicarFiltros.addEventListener('click', () => {
            filtrosAtivos.tipo = filtroTipo.value;
            filtrosAtivos.estado = filtroEstado.value;
            filtrarCasos();
        });

        btnLimparFiltros.addEventListener('click', () => {
            filtroTipo.value = 'todos';
            filtroEstado.value = 'todos';
            filtrosAtivos.tipo = 'todos';
            filtrosAtivos.estado = 'todos';
            filtrarCasos();
        });

        // Inicializa√ß√£o
        initMap();

        console.log('üó∫Ô∏è Mapa da Viol√™ncia contra Pessoas Trans carregado com sucesso!');
        console.log(`üìä Total de casos: ${casosTrans2025.length}`);
        console.log('üéØ Use os filtros para explorar os dados espec√≠ficos');
    });
    </script>
</body>
</html>
