<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa Violeta CNV - Viol√™ncia contra Pessoas Trans üè≥Ô∏è‚Äç‚ößÔ∏è</title>
    
    <link rel="icon" href="favicon.ico" sizes="any"> 
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <meta name="theme-color" content="#9b59b6">
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="manifest" href="manifest.json">
    
    <style>
    :root {
        --mapa-violeta-cor-destaque: #9b59b6;
        --mapa-violeta-cor-destaque-hover: #8e44ad;
        --mapa-violeta-fundo-form: rgba(34, 28, 53, 0.95);
        --mapa-violeta-borda-form: rgba(155, 89, 182, 0.5);
        --mapa-violeta-cor-texto-form: #e0d0ff;
        --mapa-violeta-fundo-pagina: #0a0a14;
        --color-white: #FFFFFF;
        --font-principal: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; } 
    body {
        font-family: var(--font-principal);
        background-color: var(--mapa-violeta-fundo-pagina);
        color: var(--color-white); 
        display: flex;
        flex-direction: column;
        line-height: 1.6;
        overflow: hidden; 
    }

    .app-main-container { flex: 1; display: flex; flex-direction: column; }
    .main-content-area { flex: 1; background-color: var(--mapa-violeta-fundo-pagina); padding: 0; }
    .mapa-violeta-main-area { flex-grow: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; }
    
    .mapa-violeta-header-secao { 
        text-align: center; 
        margin-bottom: 20px; 
        background: linear-gradient(135deg, #9b59b6, #8e44ad);
        padding: 20px;
        border-radius: 10px;
        color: white;
    }
    .mapa-violeta-header-secao h1 { 
        font-size: 2em; 
        margin-bottom: 10px; 
        text-shadow: 0 0 8px rgba(0, 0, 0, 0.5); 
    }
    .mapa-violeta-header-secao h1 i { margin-right: 10px; }
    .mapa-violeta-header-secao p.subtitulo-mapa { 
        font-size: 1.05em; 
        max-width: 700px; 
        margin: 0 auto 15px; 
    }

    .info-painel {
        background: var(--mapa-violeta-fundo-form);
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 20px;
        border-left: 4px solid #e74c3c;
    }

    .info-painel h3 {
        color: #e74c3c;
        margin-bottom: 10px;
    }

    .estatisticas {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
    }

    .estatistica-item {
        background: var(--mapa-violeta-fundo-form);
        padding: 15px;
        border-radius: 8px;
        text-align: center;
        border: 1px solid var(--mapa-violeta-borda-form);
    }

    .estatistica-numero {
        font-size: 2em;
        font-weight: bold;
        color: var(--mapa-violeta-cor-destaque);
        display: block;
    }

    .estatistica-label {
        font-size: 0.9em;
        color: var(--mapa-violeta-cor-texto-form);
    }

    #map {
        height: 60vh;
        min-height: 400px;
        width: 100%;
        border-radius: 10px;
        border: 2px solid var(--mapa-violeta-borda-form);
        box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        margin-bottom: 20px;
        background-color: #2c3e50;
    }

    .leaflet-popup-content-wrapper {
        background: #ffffff;
        color: #333333;
        border-radius: 8px;
        box-shadow: 0 3px 15px rgba(0,0,0,0.2);
        border: 1px solid #ddd;
    }

    .popup-marker-details {
        max-height: 300px;
        overflow-y: auto;
        padding-right: 10px;
    }

    .popup-marker-details h4 {
        color: var(--mapa-violeta-cor-destaque);
        margin-top: 0;
        margin-bottom: 8px;
        font-size: 1.15em;
        border-bottom: 2px solid var(--mapa-violeta-cor-destaque);
        padding-bottom: 5px;
    }

    .popup-marker-details p {
        margin-bottom: 6px;
        font-size: 0.9em;
        line-height: 1.5;
        color: #555555;
    }

    .popup-marker-details strong {
        color: #111111;
        font-weight: 600;
    }

    .popup-marker-details .fonte {
        font-size: 0.8em;
        color: #777;
        margin-top: 10px;
        padding-top: 10px;
        border-top: 1px solid #eee;
    }

    .legenda {
        background: var(--mapa-violeta-fundo-form);
        padding: 15px;
        border-radius: 8px;
        margin-top: 20px;
    }

    .legenda h4 {
        color: var(--mapa-violeta-cor-destaque);
        margin-bottom: 10px;
    }

    .legenda-item {
        display: flex;
        align-items: center;
        margin-bottom: 8px;
        font-size: 0.9em;
    }

    .legenda-cor {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        margin-right: 10px;
        border: 2px solid white;
    }

    @media (max-width: 768px) {
        .mapa-violeta-main-area { padding: 15px; }
        .mapa-violeta-header-secao h1 { font-size: 1.7em; }
        #map { height: 50vh; min-height: 300px; }
        .estatisticas { grid-template-columns: 1fr; }
    }
    </style>
</head>
<body class="pagina-mapa-violeta">
    <div class="app-main-container">
        <main class="main-content-area">
            <section class="mapa-violeta-main-area">
                <div class="mapa-violeta-header-secao">
                    <h1><i class="fas fa-map-marked-alt"></i> Mapa da Viol√™ncia contra Pessoas Trans - 2025</h1>
                    <p class="subtitulo-mapa">Casos noticiados de viol√™ncia letal contra pessoas trans e travestis no Brasil<br>
                    <span style="font-size:0.9em; opacity:0.9;">
                        Dados compilados a partir de reportagens jornal√≠sticas
                    </span></p>
                </div>

                <div class="info-painel">
                    <h3><i class="fas fa-exclamation-triangle"></i> Importante</h3>
                    <p>Estes casos representam apenas os <strong>noticiados pela imprensa em 2025</strong>. H√° significativa subnotifica√ß√£o. 
                    Fonte principal: Dossi√™ ANTRA 2024 registrou 122 mortes no ano anterior.</p>
                </div>

                <div class="estatisticas">
                    <div class="estatistica-item">
                        <span class="estatistica-numero">6</span>
                        <span class="estatistica-label">Casos Confirmados 2025</span>
                    </div>
                    <div class="estatistica-item">
                        <span class="estatistica-numero">5</span>
                        <span class="estatistica-label">Estados com Ocorr√™ncias</span>
                    </div>
                    <div class="estatistica-item">
                        <span class="estatistica-numero">122</span>
                        <span class="estatistica-label">Mortes em 2024 (ANTRA)</span>
                    </div>
                </div>
                
                <div id="map"></div>

                <div class="legenda">
                    <h4><i class="fas fa-key"></i> Legenda dos Marcadores</h4>
                    <div class="legenda-item">
                        <div class="legenda-cor" style="background-color: #e74c3c;"></div>
                        <span>Homic√≠dio Confirmado</span>
                    </div>
                    <div class="legenda-item">
                        <div class="legenda-cor" style="background-color: #f39c12;"></div>
                        <span>Morte ap√≥s Agress√£o</span>
                    </div>
                    <div class="legenda-item">
                        <div class="legenda-cor" style="background-color: #3498db;"></div>
                        <span>Caso em Investiga√ß√£o</span>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // Dados dos casos de viol√™ncia contra pessoas trans - 2025
        const casosTrans2025 = [
            {
                nome: "Danielly (Danny) Rocha",
                cidade: "Rio de Janeiro",
                estado: "RJ",
                data: "2025-05-03",
                tipo: "Homic√≠dio",
                descricao: "Ativista e cozinheira encontrada morta em sua resid√™ncia na Lapa. Caso investigado pela Pol√≠cia Civil.",
                coordenadas: [-22.9068, -43.1729],
                fonte: "O Dia / CNN / Ag√™ncia Brasil",
                cor: "#e74c3c",
                icone: "üö®"
            },
            {
                nome: "Christina Maciel Oliveira",
                cidade: "Belo Horizonte",
                estado: "MG", 
                data: "2025-10-20",
                tipo: "Homic√≠dio",
                descricao: "Espancada at√© a morte em via p√∫blica. Agressor (ex-companheiro) preso.",
                coordenadas: [-19.9167, -43.9345],
                fonte: "CNN Brasil, TJMG, MDHC",
                cor: "#e74c3c",
                icone: "üö®"
            },
            {
                nome: "Alice Martins Alves", 
                cidade: "Belo Horizonte",
                estado: "MG",
                data: "2025-11-09",
                tipo: "Morte ap√≥s Agress√£o",
                descricao: "Espancada na Savassi em 23/10/2025, internada e faleceu por complica√ß√µes. Investiga√ß√£o em curso.",
                coordenadas: [-19.9200, -43.9376],
                fonte: "CNN Brasil",
                cor: "#f39c12",
                icone: "‚ö†Ô∏è"
            },
            {
                nome: "V√≠tima em Rio Verde",
                cidade: "Rio Verde",
                estado: "GO",
                data: "2025-10-15",
                tipo: "Homic√≠dio",
                descricao: "Mulher trans perseguida e morta. Caso violento que envolveu tortura e levou √† pris√£o de suspeitos.",
                coordenadas: [-17.7450, -50.9313],
                fonte: "Metr√≥poles",
                cor: "#e74c3c", 
                icone: "üö®"
            },
            {
                nome: "V√≠tima em Belo Jardim",
                cidade: "Belo Jardim",
                estado: "PE",
                data: "2025-10-02", 
                tipo: "Homic√≠dio",
                descricao: "Mulher trans assassinada a tiros. Investiga√ß√£o em curso.",
                coordenadas: [-8.3356, -36.4242],
                fonte: "Diario de Pernambuco",
                cor: "#e74c3c",
                icone: "üö®"
            },
            {
                nome: "Casos em S√£o Paulo",
                cidade: "S√£o Paulo",
                estado: "SP",
                data: "2025-04-15",
                tipo: "Agress√µes",
                descricao: "Agress√µes no centro de SP e casos de transfobia registrados em 2025.",
                coordenadas: [-23.5505, -46.6333],
                fonte: "CNN Brasil",
                cor: "#3498db",
                icone: "üîç"
            }
        ];

        // Inicializar mapa
        const map = L.map('map').setView([-15, -55], 4);

        // Adicionar tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap contributors',
            maxZoom: 18
        }).addTo(map);

        // Adicionar marcadores para cada caso
        casosTrans2025.forEach(caso => {
            // Criar √≠cone customizado baseado no tipo
            const customIcon = L.divIcon({
                html: `<div style="
                    background-color: ${caso.cor}; 
                    width: 30px; 
                    height: 30px; 
                    border-radius: 50%; 
                    border: 3px solid white;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 14px;
                    color: white;
                    box-shadow: 0 2px 5px rgba(0,0,0,0.5);
                ">${caso.icone}</div>`,
                className: 'custom-trans-icon',
                iconSize: [30, 30],
                iconAnchor: [15, 15]
            });

            // Criar popup content
            const popupContent = `
                <div class="popup-marker-details">
                    <h4>${caso.icone} ${caso.nome}</h4>
                    <p><strong>Cidade:</strong> ${caso.cidade} - ${caso.estado}</p>
                    <p><strong>Data:</strong> ${new Date(caso.data).toLocaleDateString('pt-BR')}</p>
                    <p><strong>Tipo:</strong> ${caso.tipo}</p>
                    <p><strong>Descri√ß√£o:</strong> ${caso.descricao}</p>
                    <div class="fonte">
                        <strong>Fonte:</strong> ${caso.fonte}
                    </div>
                </div>
            `;

            // Adicionar marcador ao mapa
            const marker = L.marker(caso.coordenadas, { icon: customIcon })
                .bindPopup(popupContent)
                .addTo(map);
        });

        // Adicionar controle de camadas
        const casosLayer = L.layerGroup();
        casosTrans2025.forEach(caso => {
            const marker = L.marker(caso.coordenadas).addTo(casosLayer);
        });

        // Adicionar controle de camadas ao mapa
        L.control.layers(null, {
            "Casos 2025": casosLayer
        }).addTo(map);

        console.log('üó∫Ô∏è Mapa da Viol√™ncia contra Pessoas Trans carregado com sucesso!');
        console.log(`üìä Total de casos plotados: ${casosTrans2025.length}`);
    });
    </script>
</body>
</html>
